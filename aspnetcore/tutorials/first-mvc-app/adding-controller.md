---
title: Dodawanie kontrolera do aplikacji ASP.NET Core MVC
author: rick-anderson
description: Dowiedz się, jak dodać kontroler do prostej aplikacji ASP.NET Core MVC.
ms.author: riande
ms.date: 08/05/2017
uid: tutorials/first-mvc-app/adding-controller
ms.openlocfilehash: fb670902b0dafa7dce2b3372e550095387844936
ms.sourcegitcommit: 57b85708f4cded99b8f008a69830cb104cd8e879
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/13/2020
ms.locfileid: "75914249"
---
# <a name="add-a-controller-to-an-aspnet-core-mvc-app"></a><span data-ttu-id="1c1d4-103">Dodawanie kontrolera do aplikacji ASP.NET Core MVC</span><span class="sxs-lookup"><span data-stu-id="1c1d4-103">Add a controller to an ASP.NET Core MVC app</span></span>

<span data-ttu-id="1c1d4-104">Przez [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="1c1d4-104">By [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

::: moniker range=">= aspnetcore-3.0"

<span data-ttu-id="1c1d4-105">Wzorzec architektoniczny Model-View-Controller (MVC) oddziela aplikację do trzech głównych składników: **M**odelu, **V**każ i **C**ontroller.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-105">The Model-View-Controller (MVC) architectural pattern separates an app into three main components: **M**odel, **V**iew, and **C**ontroller.</span></span> <span data-ttu-id="1c1d4-106">Wzorzec MVC pomaga tworzyć aplikacje, które są bardziej weryfikowalne i łatwiej aktualizować niż tradycyjne aplikacje monolityczne.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-106">The MVC pattern helps you create apps that are more testable and easier to update than traditional monolithic apps.</span></span> <span data-ttu-id="1c1d4-107">Aplikacje oparte na MVC zawierają:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-107">MVC-based apps contain:</span></span>

* <span data-ttu-id="1c1d4-108">**M**Odels: klasy reprezentujące dane aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-108">**M**odels: Classes that represent the data of the app.</span></span> <span data-ttu-id="1c1d4-109">Klasy modeli używają logiki walidacji, aby wymusić reguły biznesowe dla tych danych.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-109">The model classes use validation logic to enforce business rules for that data.</span></span> <span data-ttu-id="1c1d4-110">Zazwyczaj obiekty modelu pobierają i przechowują stan modelu w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-110">Typically, model objects retrieve and store model state in a database.</span></span> <span data-ttu-id="1c1d4-111">W tym samouczku model `Movie` pobiera dane filmu z bazy danych, udostępnia je widokowi lub aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-111">In this tutorial, a `Movie` model retrieves movie data from a database, provides it to the view or updates it.</span></span> <span data-ttu-id="1c1d4-112">Zaktualizowane dane są zapisywane w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-112">Updated data is written to a database.</span></span>

* <span data-ttu-id="1c1d4-113">**V**Iews: widoki są składnikami, które wyświetlają interfejs użytkownika aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-113">**V**iews: Views are the components that display the app's user interface (UI).</span></span> <span data-ttu-id="1c1d4-114">Zazwyczaj ten interfejs użytkownika wyświetla dane modelu.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-114">Generally, this UI displays the model data.</span></span>

* <span data-ttu-id="1c1d4-115">**C**Ontrollers: klasy, które obsługują żądania przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-115">**C**ontrollers: Classes that handle browser requests.</span></span> <span data-ttu-id="1c1d4-116">Pobierają one dane modelu i szablony widoków wywołań, które zwracają odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-116">They retrieve model data and call view templates that return a response.</span></span> <span data-ttu-id="1c1d4-117">W aplikacji MVC widok wyświetla tylko informacje; kontroler obsługuje i reaguje na dane wejściowe użytkownika i interakcje.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-117">In an MVC app, the view only displays information; the controller handles and responds to user input and interaction.</span></span> <span data-ttu-id="1c1d4-118">Na przykład kontroler obsługuje dane tras i wartości ciągu zapytania i przekazuje te wartości do modelu.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-118">For example, the controller handles route data and query-string values, and passes these values to the model.</span></span> <span data-ttu-id="1c1d4-119">Model może używać tych wartości do wykonywania zapytań w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-119">The model might use these values to query the database.</span></span> <span data-ttu-id="1c1d4-120">Na przykład `https://localhost:5001/Home/Privacy` ma dane trasy `Home` (kontroler) i `Privacy` (Metoda akcji do wywołania na kontrolerze głównym).</span><span class="sxs-lookup"><span data-stu-id="1c1d4-120">For example, `https://localhost:5001/Home/Privacy` has route data of `Home` (the controller) and `Privacy` (the action method to call on the home controller).</span></span> <span data-ttu-id="1c1d4-121">`https://localhost:5001/Movies/Edit/5` to żądanie edycji filmu o IDENTYFIKATORze 5 przy użyciu kontrolera filmu.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-121">`https://localhost:5001/Movies/Edit/5` is a request to edit the movie with ID=5 using the movie controller.</span></span> <span data-ttu-id="1c1d4-122">Dane trasy są wyjaśnione w dalszej części samouczka.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-122">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="1c1d4-123">Wzorzec MVC ułatwia tworzenie aplikacji, które oddzielają różne aspekty aplikacji (logiki wejściowej, logiki biznesowej i logiki interfejsu użytkownika), jednocześnie zapewniając swobodny sprzężenie między tymi elementami.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-123">The MVC pattern helps you create apps that separate the different aspects of the app (input logic, business logic, and UI logic), while providing a loose coupling between these elements.</span></span> <span data-ttu-id="1c1d4-124">Wzorzec określa, gdzie poszczególne rodzaje logiki powinny znajdować się w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-124">The pattern specifies where each kind of logic should be located in the app.</span></span> <span data-ttu-id="1c1d4-125">Logika interfejsu użytkownika jest powiązana z widokiem.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-125">The UI logic belongs in the view.</span></span> <span data-ttu-id="1c1d4-126">Logika danych wejściowych jest powiązana z kontrolerem.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-126">Input logic belongs in the controller.</span></span> <span data-ttu-id="1c1d4-127">Logika biznesowa jest powiązana z modelem.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-127">Business logic belongs in the model.</span></span> <span data-ttu-id="1c1d4-128">Ta separacja ułatwia zarządzanie złożonością podczas kompilowania aplikacji, ponieważ umożliwia pracę nad jednym aspektem implementacji jednocześnie bez wpływu na kod innego.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-128">This separation helps you manage complexity when you build an app, because it enables you to work on one aspect of the implementation at a time without impacting the code of another.</span></span> <span data-ttu-id="1c1d4-129">Na przykład można korzystać z kodu widoku bez w zależności od kodu logiki biznesowej.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-129">For example, you can work on the view code without depending on the business logic code.</span></span>

<span data-ttu-id="1c1d4-130">Omawiamy te koncepcje w tej serii samouczków i pokazano, jak używać ich do kompilowania aplikacji filmowej.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-130">We cover these concepts in this tutorial series and show you how to use them to build a movie app.</span></span> <span data-ttu-id="1c1d4-131">Projekt MVC zawiera foldery dla *kontrolerów* i *widoków*.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-131">The MVC project contains folders for the *Controllers* and *Views*.</span></span>

## <a name="add-a-controller"></a><span data-ttu-id="1c1d4-132">Dodawanie kontrolera</span><span class="sxs-lookup"><span data-stu-id="1c1d4-132">Add a controller</span></span>

# <a name="visual-studiotabvisual-studio"></a>[<span data-ttu-id="1c1d4-133">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="1c1d4-133">Visual Studio</span></span>](#tab/visual-studio)

* <span data-ttu-id="1c1d4-134">W **Eksplorator rozwiązań**kliknij prawym przyciskiem myszy pozycję **Kontrolery > dodaj kontroler >** 
  ![menu kontekstowego](adding-controller/_static/add_controller.png)</span><span class="sxs-lookup"><span data-stu-id="1c1d4-134">In **Solution Explorer**, right-click **Controllers > Add > Controller**
![Contextual menu](adding-controller/_static/add_controller.png)</span></span>

* <span data-ttu-id="1c1d4-135">W oknie dialogowym **Dodawanie szkieletu** wybierz pozycję **kontroler MVC — pusty**</span><span class="sxs-lookup"><span data-stu-id="1c1d4-135">In the **Add Scaffold** dialog box, select **MVC Controller - Empty**</span></span>

  ![Dodaj kontroler MVC i nadaj mu nazwę](adding-controller/_static/ac.png)

* <span data-ttu-id="1c1d4-137">W **oknie dialogowym Dodaj pusty kontroler MVC**wpisz **HelloWorldController** i wybierz pozycję **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-137">In the **Add Empty MVC Controller dialog**, enter **HelloWorldController** and select **ADD**.</span></span>

# <a name="visual-studio-codetabvisual-studio-code"></a>[<span data-ttu-id="1c1d4-138">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="1c1d4-138">Visual Studio Code</span></span>](#tab/visual-studio-code)

<span data-ttu-id="1c1d4-139">Wybierz ikonę **Eksploratora** , a następnie kliknij przycisk Control (kliknij prawym przyciskiem myszy) **Kontrolery > nowy plik** i Nadaj nowemu plikowi nazwę *HelloWorldController.cs*.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-139">Select the **EXPLORER** icon and then control-click (right-click) **Controllers > New File** and name the new file *HelloWorldController.cs*.</span></span>

  ![Menu kontekstowe](~/tutorials/first-mvc-app-xplat/adding-controller/_static/new_file.png)

# <a name="visual-studio-for-mactabvisual-studio-mac"></a>[<span data-ttu-id="1c1d4-141">Visual Studio dla komputerów Mac</span><span class="sxs-lookup"><span data-stu-id="1c1d4-141">Visual Studio for Mac</span></span>](#tab/visual-studio-mac)

<span data-ttu-id="1c1d4-142">W **Eksplorator rozwiązań**kliknij prawym przyciskiem myszy pozycję **kontrolery > Dodaj > nowy plik**.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-142">In **Solution Explorer**, right-click **Controllers > Add > New File**.</span></span>
<span data-ttu-id="1c1d4-143">](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png) menu kontekstowe ![</span><span class="sxs-lookup"><span data-stu-id="1c1d4-143">![Contextual menu](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png)</span></span>

<span data-ttu-id="1c1d4-144">Wybierz klasę **ASP.NET Core** i **kontrolera MVC**.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-144">Select **ASP.NET Core** and **MVC Controller Class**.</span></span>

<span data-ttu-id="1c1d4-145">Nadaj nazwę kontrolerowi **HelloWorldController**.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-145">Name the controller **HelloWorldController**.</span></span>

![Dodaj kontroler MVC i nadaj mu nazwę](~/tutorials/first-mvc-app-mac/adding-controller/_static/ac.png)

---

<span data-ttu-id="1c1d4-147">Zastąp zawartość *controllers/HelloWorldController. cs* następującymi kwestiami:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-147">Replace the contents of *Controllers/HelloWorldController.cs* with the following:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]

<span data-ttu-id="1c1d4-148">Każda `public` Metoda w kontrolerze jest wywoływana jako punkt końcowy HTTP.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-148">Every `public` method in a controller is callable as an HTTP endpoint.</span></span> <span data-ttu-id="1c1d4-149">W powyższym przykładzie obie metody zwracają ciąg.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-149">In the sample above, both methods return a string.</span></span> <span data-ttu-id="1c1d4-150">Zwróć uwagę na komentarze poprzedzające każdą metodę.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-150">Note the comments preceding each method.</span></span>

<span data-ttu-id="1c1d4-151">Punkt końcowy HTTP to docelowy adres URL w aplikacji sieci Web, taki jak `https://localhost:5001/HelloWorld`i łączy używany protokół: `HTTPS`, lokalizacja sieciowa serwera sieci Web (w tym port TCP): `localhost:5001` i docelowy `HelloWorld`identyfikatora URI.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-151">An HTTP endpoint is a targetable URL in the web application, such as `https://localhost:5001/HelloWorld`, and combines the protocol used: `HTTPS`, the network location of the web server (including the TCP port): `localhost:5001` and the target URI `HelloWorld`.</span></span>

<span data-ttu-id="1c1d4-152">Pierwszy komentarz wskazuje, że jest to metoda [http Get](https://www.w3schools.com/tags/ref_httpmethods.asp) wywoływana przez dołączenie `/HelloWorld/` do podstawowego adresu URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-152">The first comment states this is an [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) method that's invoked by appending `/HelloWorld/` to the base URL.</span></span> <span data-ttu-id="1c1d4-153">Drugi komentarz określa metodę [http Get](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) , która jest wywoływana przez dołączenie `/HelloWorld/Welcome/` do adresu URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-153">The second comment specifies an [HTTP GET](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) method that's invoked by appending `/HelloWorld/Welcome/` to the URL.</span></span> <span data-ttu-id="1c1d4-154">W dalszej części tego samouczka aparat szkieletu służy do generowania metod `HTTP POST`, które aktualizują dane.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-154">Later on in the tutorial the scaffolding engine is used to generate `HTTP POST` methods which update data.</span></span>

<span data-ttu-id="1c1d4-155">Uruchom aplikację w trybie innym niż debugowanie i Dołącz do niej plik "HelloWorld" do ścieżki na pasku adresu.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-155">Run the app in non-debug mode and append "HelloWorld" to the path in the address bar.</span></span> <span data-ttu-id="1c1d4-156">Metoda `Index` zwraca ciąg.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-156">The `Index` method returns a string.</span></span>

![Okno przeglądarki pokazujące odpowiedź aplikacji to moja domyślna akcja](~/tutorials/first-mvc-app/adding-controller/_static/hell1.png)

<span data-ttu-id="1c1d4-158">MVC wywołuje klasy kontrolera (i w nich metody akcji) w zależności od przychodzącego adresu URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-158">MVC invokes controller classes (and the action methods within them) depending on the incoming URL.</span></span> <span data-ttu-id="1c1d4-159">Domyślna [logika routingu adresów URL](xref:mvc/controllers/routing) używana przez MVC korzysta z formatu takiego jak ten, aby określić kod, który ma zostać wywołany:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-159">The default [URL routing logic](xref:mvc/controllers/routing) used by MVC uses a format like this to determine what code to invoke:</span></span>

`/[Controller]/[ActionName]/[Parameters]`

<span data-ttu-id="1c1d4-160">Format routingu jest ustawiany w metodzie `Configure` w pliku *Startup.cs* .</span><span class="sxs-lookup"><span data-stu-id="1c1d4-160">The routing format is set in the `Configure` method in *Startup.cs* file.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie3/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="1c1d4-161">Gdy przejdziesz do aplikacji i nie podasz żadnych segmentów adresu URL, domyślnym kontrolerem "Home" i metodą "index" określoną w wierszu szablonu wyróżnionym powyżej.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-161">When you browse to the app and don't supply any URL segments, it defaults to the "Home" controller and the "Index" method specified in the template line highlighted above.</span></span>

<span data-ttu-id="1c1d4-162">Pierwszy segment adresu URL określa klasę kontrolera do uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-162">The first URL segment determines the controller class to run.</span></span> <span data-ttu-id="1c1d4-163">Dlatego `localhost:{PORT}/HelloWorld` są mapowane na klasę kontrolera **HelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-163">So `localhost:{PORT}/HelloWorld` maps to the **HelloWorld**Controller class.</span></span> <span data-ttu-id="1c1d4-164">Druga część segmentu adresu URL określa metodę akcji klasy.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-164">The second part of the URL segment determines the action method on the class.</span></span> <span data-ttu-id="1c1d4-165">Dlatego `localhost:{PORT}/HelloWorld/Index` mogłoby spowodować uruchomienie metody `Index` klasy `HelloWorldController`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-165">So `localhost:{PORT}/HelloWorld/Index` would cause the `Index` method of the `HelloWorldController` class to run.</span></span> <span data-ttu-id="1c1d4-166">Należy zauważyć, że użytkownik musiał tylko przeglądać do `localhost:{PORT}/HelloWorld`, a metoda `Index` została wywołana domyślnie.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-166">Notice that you only had to browse to `localhost:{PORT}/HelloWorld` and the `Index` method was called by default.</span></span> <span data-ttu-id="1c1d4-167">Dzieje się tak, ponieważ `Index` jest metodą domyślną, która będzie wywoływana na kontrolerze, jeśli nazwa metody nie jest jawnie określona.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-167">That's because `Index` is the default method that will be called on a controller if a method name isn't explicitly specified.</span></span> <span data-ttu-id="1c1d4-168">Trzecia część segmentu adresu URL (`id`) jest dla danych trasy.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-168">The third part of the URL segment ( `id`) is for route data.</span></span> <span data-ttu-id="1c1d4-169">Dane trasy są wyjaśnione w dalszej części samouczka.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-169">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="1c1d4-170">Przejdź do `https://localhost:{PORT}/HelloWorld/Welcome`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-170">Browse to `https://localhost:{PORT}/HelloWorld/Welcome`.</span></span> <span data-ttu-id="1c1d4-171">Metoda `Welcome` jest uruchamiana i zwraca ciąg `This is the Welcome action method...`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-171">The `Welcome` method runs and returns the string `This is the Welcome action method...`.</span></span> <span data-ttu-id="1c1d4-172">Dla tego adresu URL kontroler jest `HelloWorld` i `Welcome` jest metodą akcji.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-172">For this URL, the controller is `HelloWorld` and `Welcome` is the action method.</span></span> <span data-ttu-id="1c1d4-173">Nie użyto jeszcze `[Parameters]` części adresu URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-173">You haven't used the `[Parameters]` part of the URL yet.</span></span>

![Okno przeglądarki pokazujące odpowiedź aplikacji jest to metoda akcji powitalnej](~/tutorials/first-mvc-app/adding-controller/_static/welcome.png)

<span data-ttu-id="1c1d4-175">Zmodyfikuj kod, aby przekazać do kontrolera informacje o parametrach z adresu URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-175">Modify the code to pass some parameter information from the URL to the controller.</span></span> <span data-ttu-id="1c1d4-176">Na przykład `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-176">For example, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span></span> <span data-ttu-id="1c1d4-177">Zmień metodę `Welcome` tak, aby obejmowała dwa parametry, jak pokazano w poniższym kodzie.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-177">Change the `Welcome` method to include two parameters as shown in the following code.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]

<span data-ttu-id="1c1d4-178">Powyższy kod:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-178">The preceding code:</span></span>

* <span data-ttu-id="1c1d4-179">Używa funkcji C# opcjonalnej parametru, aby wskazać, że parametr `numTimes` domyślnie przyjmuje wartość 1, jeśli dla tego parametru nie zostanie przeniesiona żadna wartooć.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-179">Uses the C# optional-parameter feature to indicate that the `numTimes` parameter defaults to 1 if no value is passed for that parameter.</span></span> <!-- remove for simplified -->
* <span data-ttu-id="1c1d4-180">Używa `HtmlEncoder.Default.Encode` do ochrony aplikacji przed złośliwymi danymi wejściowymi (tj. JavaScript).</span><span class="sxs-lookup"><span data-stu-id="1c1d4-180">Uses `HtmlEncoder.Default.Encode` to protect the app from malicious input (namely JavaScript).</span></span>
* <span data-ttu-id="1c1d4-181">Używa [interpolowanych ciągów](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) w `$"Hello {name}, NumTimes is: {numTimes}"`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-181">Uses [Interpolated Strings](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) in `$"Hello {name}, NumTimes is: {numTimes}"`.</span></span> <!-- remove for simplified -->

<span data-ttu-id="1c1d4-182">Uruchom aplikację i przejdź do:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-182">Run the app and browse to:</span></span>

   `https://localhost:{PORT}/HelloWorld/Welcome?name=Rick&numtimes=4`

<span data-ttu-id="1c1d4-183">(Zastąp `{PORT}` numerem portu). Możesz wypróbować różne wartości `name` i `numtimes` w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-183">(Replace `{PORT}` with your port number.) You can try different values for `name` and `numtimes` in the URL.</span></span> <span data-ttu-id="1c1d4-184">System [powiązania modelu](xref:mvc/models/model-binding) MVC automatycznie mapuje nazwane parametry z ciągu zapytania na pasku adresu na parametry w metodzie.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-184">The MVC [model binding](xref:mvc/models/model-binding) system automatically maps the named parameters from the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="1c1d4-185">Aby uzyskać więcej informacji, zobacz [powiązanie modelu](xref:mvc/models/model-binding) .</span><span class="sxs-lookup"><span data-stu-id="1c1d4-185">See [Model Binding](xref:mvc/models/model-binding) for more information.</span></span>

![Okno przeglądarki pokazujące odpowiedź aplikacji Hello Rick, NumTimes jest\: 4](~/tutorials/first-mvc-app/adding-controller/_static/rick4.png)

<span data-ttu-id="1c1d4-187">Na powyższym obrazie segment adresu URL (`Parameters`) nie jest używany, parametry `name` i `numTimes` są przesyłane w [ciągu zapytania](https://wikipedia.org/wiki/Query_string).</span><span class="sxs-lookup"><span data-stu-id="1c1d4-187">In the image above, the URL segment (`Parameters`) isn't used, the `name` and `numTimes` parameters are passed in the [query string](https://wikipedia.org/wiki/Query_string).</span></span> <span data-ttu-id="1c1d4-188">`?` (znak zapytania) w powyższym adresie URL jest separatorem, a ciąg zapytania znajduje się poniżej.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-188">The `?` (question mark) in the above URL is a separator, and the query string follows.</span></span> <span data-ttu-id="1c1d4-189">Znak `&` oddziela pary pól i wartości.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-189">The `&` character separates field-value pairs.</span></span>

<span data-ttu-id="1c1d4-190">Zastąp metodę `Welcome` poniższym kodem:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-190">Replace the `Welcome` method with the following code:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]

<span data-ttu-id="1c1d4-191">Uruchom aplikację i wprowadź następujący adres URL: `https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span><span class="sxs-lookup"><span data-stu-id="1c1d4-191">Run the app and enter the following URL: `https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span></span>

<span data-ttu-id="1c1d4-192">Tym razem trzeci segment adresu URL pasuje do `id`parametru trasy.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-192">This time the third URL segment matched the route parameter `id`.</span></span> <span data-ttu-id="1c1d4-193">Metoda `Welcome` zawiera `id` parametrów, które pasują do szablonu adresu URL w metodzie `MapControllerRoute`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-193">The `Welcome` method contains a parameter `id` that matched the URL template in the `MapControllerRoute` method.</span></span> <span data-ttu-id="1c1d4-194">`?` końcowy (w `id?`) wskazuje, że parametr `id` jest opcjonalny.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-194">The trailing `?` (in `id?`) indicates the `id` parameter is optional.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie3/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="1c1d4-195">W tych przykładach kontroler wykonywał część "VC" MVC, czyli każ **V**i **C**ontroller Work.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-195">In these examples the controller has been doing the "VC" portion of MVC - that is, the **V**iew and the **C**ontroller work.</span></span> <span data-ttu-id="1c1d4-196">Kontroler zwraca bezpośrednio kod HTML.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-196">The controller is returning HTML directly.</span></span> <span data-ttu-id="1c1d4-197">Zazwyczaj nie ma potrzeby, aby kontrolery zwracające kod HTML bezpośrednio, ponieważ staną się bardzo nieskomplikowane w kodzie i obsłudze.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-197">Generally you don't want controllers returning HTML directly, since that becomes very cumbersome to code and maintain.</span></span> <span data-ttu-id="1c1d4-198">Zamiast tego zwykle używasz oddzielnego pliku szablonu widoku Razor do wygenerowania odpowiedzi HTML.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-198">Instead you typically use a separate Razor view template file to generate the HTML response.</span></span> <span data-ttu-id="1c1d4-199">Należy to zrobić w następnym samouczku.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-199">You do that in the next tutorial.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1c1d4-200">[Poprzedni](start-mvc.md)
> [Następny](adding-view.md)</span><span class="sxs-lookup"><span data-stu-id="1c1d4-200">[Previous](start-mvc.md)
[Next](adding-view.md)</span></span>

::: moniker-end

::: moniker range="< aspnetcore-3.0"

<span data-ttu-id="1c1d4-201">Wzorzec architektoniczny Model-View-Controller (MVC) oddziela aplikację do trzech głównych składników: **M**odelu, **V**każ i **C**ontroller.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-201">The Model-View-Controller (MVC) architectural pattern separates an app into three main components: **M**odel, **V**iew, and **C**ontroller.</span></span> <span data-ttu-id="1c1d4-202">Wzorzec MVC pomaga tworzyć aplikacje, które są bardziej weryfikowalne i łatwiej aktualizować niż tradycyjne aplikacje monolityczne.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-202">The MVC pattern helps you create apps that are more testable and easier to update than traditional monolithic apps.</span></span> <span data-ttu-id="1c1d4-203">Aplikacje oparte na MVC zawierają:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-203">MVC-based apps contain:</span></span>

* <span data-ttu-id="1c1d4-204">**M**Odels: klasy reprezentujące dane aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-204">**M**odels: Classes that represent the data of the app.</span></span> <span data-ttu-id="1c1d4-205">Klasy modeli używają logiki walidacji, aby wymusić reguły biznesowe dla tych danych.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-205">The model classes use validation logic to enforce business rules for that data.</span></span> <span data-ttu-id="1c1d4-206">Zazwyczaj obiekty modelu pobierają i przechowują stan modelu w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-206">Typically, model objects retrieve and store model state in a database.</span></span> <span data-ttu-id="1c1d4-207">W tym samouczku model `Movie` pobiera dane filmu z bazy danych, udostępnia je widokowi lub aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-207">In this tutorial, a `Movie` model retrieves movie data from a database, provides it to the view or updates it.</span></span> <span data-ttu-id="1c1d4-208">Zaktualizowane dane są zapisywane w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-208">Updated data is written to a database.</span></span>

* <span data-ttu-id="1c1d4-209">**V**Iews: widoki są składnikami, które wyświetlają interfejs użytkownika aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-209">**V**iews: Views are the components that display the app's user interface (UI).</span></span> <span data-ttu-id="1c1d4-210">Zazwyczaj ten interfejs użytkownika wyświetla dane modelu.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-210">Generally, this UI displays the model data.</span></span>

* <span data-ttu-id="1c1d4-211">**C**Ontrollers: klasy, które obsługują żądania przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-211">**C**ontrollers: Classes that handle browser requests.</span></span> <span data-ttu-id="1c1d4-212">Pobierają one dane modelu i szablony widoków wywołań, które zwracają odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-212">They retrieve model data and call view templates that return a response.</span></span> <span data-ttu-id="1c1d4-213">W aplikacji MVC widok wyświetla tylko informacje; kontroler obsługuje i reaguje na dane wejściowe użytkownika i interakcje.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-213">In an MVC app, the view only displays information; the controller handles and responds to user input and interaction.</span></span> <span data-ttu-id="1c1d4-214">Na przykład kontroler obsługuje dane tras i wartości ciągu zapytania i przekazuje te wartości do modelu.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-214">For example, the controller handles route data and query-string values, and passes these values to the model.</span></span> <span data-ttu-id="1c1d4-215">Model może używać tych wartości do wykonywania zapytań w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-215">The model might use these values to query the database.</span></span> <span data-ttu-id="1c1d4-216">Na przykład `https://localhost:5001/Home/About` ma dane trasy `Home` (kontroler) i `About` (Metoda akcji do wywołania na kontrolerze głównym).</span><span class="sxs-lookup"><span data-stu-id="1c1d4-216">For example, `https://localhost:5001/Home/About` has route data of `Home` (the controller) and `About` (the action method to call on the home controller).</span></span> <span data-ttu-id="1c1d4-217">`https://localhost:5001/Movies/Edit/5` to żądanie edycji filmu o IDENTYFIKATORze 5 przy użyciu kontrolera filmu.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-217">`https://localhost:5001/Movies/Edit/5` is a request to edit the movie with ID=5 using the movie controller.</span></span> <span data-ttu-id="1c1d4-218">Dane trasy są wyjaśnione w dalszej części samouczka.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-218">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="1c1d4-219">Wzorzec MVC ułatwia tworzenie aplikacji, które oddzielają różne aspekty aplikacji (logiki wejściowej, logiki biznesowej i logiki interfejsu użytkownika), jednocześnie zapewniając swobodny sprzężenie między tymi elementami.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-219">The MVC pattern helps you create apps that separate the different aspects of the app (input logic, business logic, and UI logic), while providing a loose coupling between these elements.</span></span> <span data-ttu-id="1c1d4-220">Wzorzec określa, gdzie poszczególne rodzaje logiki powinny znajdować się w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-220">The pattern specifies where each kind of logic should be located in the app.</span></span> <span data-ttu-id="1c1d4-221">Logika interfejsu użytkownika jest powiązana z widokiem.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-221">The UI logic belongs in the view.</span></span> <span data-ttu-id="1c1d4-222">Logika danych wejściowych jest powiązana z kontrolerem.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-222">Input logic belongs in the controller.</span></span> <span data-ttu-id="1c1d4-223">Logika biznesowa jest powiązana z modelem.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-223">Business logic belongs in the model.</span></span> <span data-ttu-id="1c1d4-224">Ta separacja ułatwia zarządzanie złożonością podczas kompilowania aplikacji, ponieważ umożliwia pracę nad jednym aspektem implementacji jednocześnie bez wpływu na kod innego.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-224">This separation helps you manage complexity when you build an app, because it enables you to work on one aspect of the implementation at a time without impacting the code of another.</span></span> <span data-ttu-id="1c1d4-225">Na przykład można korzystać z kodu widoku bez w zależności od kodu logiki biznesowej.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-225">For example, you can work on the view code without depending on the business logic code.</span></span>

<span data-ttu-id="1c1d4-226">Omawiamy te koncepcje w tej serii samouczków i pokazano, jak używać ich do kompilowania aplikacji filmowej.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-226">We cover these concepts in this tutorial series and show you how to use them to build a movie app.</span></span> <span data-ttu-id="1c1d4-227">Projekt MVC zawiera foldery dla *kontrolerów* i *widoków*.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-227">The MVC project contains folders for the *Controllers* and *Views*.</span></span>

## <a name="add-a-controller"></a><span data-ttu-id="1c1d4-228">Dodawanie kontrolera</span><span class="sxs-lookup"><span data-stu-id="1c1d4-228">Add a controller</span></span>

# <a name="visual-studiotabvisual-studio"></a>[<span data-ttu-id="1c1d4-229">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="1c1d4-229">Visual Studio</span></span>](#tab/visual-studio)

* <span data-ttu-id="1c1d4-230">W **Eksplorator rozwiązań**kliknij prawym przyciskiem myszy pozycję **Kontrolery > dodaj kontroler >** 
  ![menu kontekstowego](adding-controller/_static/add_controller.png)</span><span class="sxs-lookup"><span data-stu-id="1c1d4-230">In **Solution Explorer**, right-click **Controllers > Add > Controller**
![Contextual menu](adding-controller/_static/add_controller.png)</span></span>

* <span data-ttu-id="1c1d4-231">W oknie dialogowym **Dodawanie szkieletu** wybierz pozycję **kontroler MVC — pusty**</span><span class="sxs-lookup"><span data-stu-id="1c1d4-231">In the **Add Scaffold** dialog box, select **MVC Controller - Empty**</span></span>

  ![Dodaj kontroler MVC i nadaj mu nazwę](adding-controller/_static/ac.png)

* <span data-ttu-id="1c1d4-233">W **oknie dialogowym Dodaj pusty kontroler MVC**wpisz **HelloWorldController** i wybierz pozycję **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-233">In the **Add Empty MVC Controller dialog**, enter **HelloWorldController** and select **ADD**.</span></span>

# <a name="visual-studio-codetabvisual-studio-code"></a>[<span data-ttu-id="1c1d4-234">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="1c1d4-234">Visual Studio Code</span></span>](#tab/visual-studio-code)

<span data-ttu-id="1c1d4-235">Wybierz ikonę **Eksploratora** , a następnie kliknij przycisk Control (kliknij prawym przyciskiem myszy) **Kontrolery > nowy plik** i Nadaj nowemu plikowi nazwę *HelloWorldController.cs*.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-235">Select the **EXPLORER** icon and then control-click (right-click) **Controllers > New File** and name the new file *HelloWorldController.cs*.</span></span>

  ![Menu kontekstowe](~/tutorials/first-mvc-app-xplat/adding-controller/_static/new_file.png)

# <a name="visual-studio-for-mactabvisual-studio-mac"></a>[<span data-ttu-id="1c1d4-237">Visual Studio dla komputerów Mac</span><span class="sxs-lookup"><span data-stu-id="1c1d4-237">Visual Studio for Mac</span></span>](#tab/visual-studio-mac)

<span data-ttu-id="1c1d4-238">W **Eksplorator rozwiązań**kliknij prawym przyciskiem myszy pozycję **kontrolery > Dodaj > nowy plik**.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-238">In **Solution Explorer**, right-click **Controllers > Add > New File**.</span></span>
<span data-ttu-id="1c1d4-239">](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png) menu kontekstowe ![</span><span class="sxs-lookup"><span data-stu-id="1c1d4-239">![Contextual menu](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png)</span></span>

<span data-ttu-id="1c1d4-240">Wybierz klasę **ASP.NET Core** i **kontrolera MVC**.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-240">Select **ASP.NET Core** and **MVC Controller Class**.</span></span>

<span data-ttu-id="1c1d4-241">Nadaj nazwę kontrolerowi **HelloWorldController**.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-241">Name the controller **HelloWorldController**.</span></span>

![Dodaj kontroler MVC i nadaj mu nazwę](~/tutorials/first-mvc-app-mac/adding-controller/_static/ac.png)

---

<span data-ttu-id="1c1d4-243">Zastąp zawartość *controllers/HelloWorldController. cs* następującymi kwestiami:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-243">Replace the contents of *Controllers/HelloWorldController.cs* with the following:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]

<span data-ttu-id="1c1d4-244">Każda `public` Metoda w kontrolerze jest wywoływana jako punkt końcowy HTTP.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-244">Every `public` method in a controller is callable as an HTTP endpoint.</span></span> <span data-ttu-id="1c1d4-245">W powyższym przykładzie obie metody zwracają ciąg.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-245">In the sample above, both methods return a string.</span></span> <span data-ttu-id="1c1d4-246">Zwróć uwagę na komentarze poprzedzające każdą metodę.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-246">Note the comments preceding each method.</span></span>

<span data-ttu-id="1c1d4-247">Punkt końcowy HTTP to docelowy adres URL w aplikacji sieci Web, taki jak `https://localhost:5001/HelloWorld`i łączy używany protokół: `HTTPS`, lokalizacja sieciowa serwera sieci Web (w tym port TCP): `localhost:5001` i docelowy `HelloWorld`identyfikatora URI.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-247">An HTTP endpoint is a targetable URL in the web application, such as `https://localhost:5001/HelloWorld`, and combines the protocol used: `HTTPS`, the network location of the web server (including the TCP port): `localhost:5001` and the target URI `HelloWorld`.</span></span>

<span data-ttu-id="1c1d4-248">Pierwszy komentarz wskazuje, że jest to metoda [http Get](https://www.w3schools.com/tags/ref_httpmethods.asp) wywoływana przez dołączenie `/HelloWorld/` do podstawowego adresu URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-248">The first comment states this is an [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) method that's invoked by appending `/HelloWorld/` to the base URL.</span></span> <span data-ttu-id="1c1d4-249">Drugi komentarz określa metodę [http Get](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) , która jest wywoływana przez dołączenie `/HelloWorld/Welcome/` do adresu URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-249">The second comment specifies an [HTTP GET](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) method that's invoked by appending `/HelloWorld/Welcome/` to the URL.</span></span> <span data-ttu-id="1c1d4-250">W dalszej części tego samouczka aparat szkieletu służy do generowania metod `HTTP POST`, które aktualizują dane.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-250">Later on in the tutorial the scaffolding engine is used to generate `HTTP POST` methods which update data.</span></span>

<span data-ttu-id="1c1d4-251">Uruchom aplikację w trybie innym niż debugowanie i Dołącz do niej plik "HelloWorld" do ścieżki na pasku adresu.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-251">Run the app in non-debug mode and append "HelloWorld" to the path in the address bar.</span></span> <span data-ttu-id="1c1d4-252">Metoda `Index` zwraca ciąg.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-252">The `Index` method returns a string.</span></span>

![Okno przeglądarki pokazujące odpowiedź aplikacji to moja domyślna akcja](~/tutorials/first-mvc-app/adding-controller/_static/hell1.png)

<span data-ttu-id="1c1d4-254">MVC wywołuje klasy kontrolera (i w nich metody akcji) w zależności od przychodzącego adresu URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-254">MVC invokes controller classes (and the action methods within them) depending on the incoming URL.</span></span> <span data-ttu-id="1c1d4-255">Domyślna [logika routingu adresów URL](xref:mvc/controllers/routing) używana przez MVC korzysta z formatu takiego jak ten, aby określić kod, który ma zostać wywołany:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-255">The default [URL routing logic](xref:mvc/controllers/routing) used by MVC uses a format like this to determine what code to invoke:</span></span>

`/[Controller]/[ActionName]/[Parameters]`

<span data-ttu-id="1c1d4-256">Format routingu jest ustawiany w metodzie `Configure` w pliku *Startup.cs* .</span><span class="sxs-lookup"><span data-stu-id="1c1d4-256">The routing format is set in the `Configure` method in *Startup.cs* file.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]

<!-- 
Add link to explain lambda.
Remove link for simplified tutorial.
-->

<span data-ttu-id="1c1d4-257">Gdy przejdziesz do aplikacji i nie podasz żadnych segmentów adresu URL, domyślnym kontrolerem "Home" i metodą "index" określoną w wierszu szablonu wyróżnionym powyżej.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-257">When you browse to the app and don't supply any URL segments, it defaults to the "Home" controller and the "Index" method specified in the template line highlighted above.</span></span>

<span data-ttu-id="1c1d4-258">Pierwszy segment adresu URL określa klasę kontrolera do uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-258">The first URL segment determines the controller class to run.</span></span> <span data-ttu-id="1c1d4-259">Dlatego `localhost:{PORT}/HelloWorld` są mapowane do klasy `HelloWorldController`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-259">So `localhost:{PORT}/HelloWorld` maps to the `HelloWorldController` class.</span></span> <span data-ttu-id="1c1d4-260">Druga część segmentu adresu URL określa metodę akcji klasy.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-260">The second part of the URL segment determines the action method on the class.</span></span> <span data-ttu-id="1c1d4-261">Dlatego `localhost:{PORT}/HelloWorld/Index` mogłoby spowodować uruchomienie metody `Index` klasy `HelloWorldController`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-261">So `localhost:{PORT}/HelloWorld/Index` would cause the `Index` method of the `HelloWorldController` class to run.</span></span> <span data-ttu-id="1c1d4-262">Należy zauważyć, że użytkownik musiał tylko przeglądać do `localhost:{PORT}/HelloWorld`, a metoda `Index` została wywołana domyślnie.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-262">Notice that you only had to browse to `localhost:{PORT}/HelloWorld` and the `Index` method was called by default.</span></span> <span data-ttu-id="1c1d4-263">Jest to spowodowane tym, że `Index` jest metodą domyślną, która będzie wywoływana na kontrolerze, jeśli nazwa metody nie jest jawnie określona.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-263">This is because `Index` is the default method that will be called on a controller if a method name isn't explicitly specified.</span></span> <span data-ttu-id="1c1d4-264">Trzecia część segmentu adresu URL (`id`) jest dla danych trasy.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-264">The third part of the URL segment ( `id`) is for route data.</span></span> <span data-ttu-id="1c1d4-265">Dane trasy są wyjaśnione w dalszej części samouczka.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-265">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="1c1d4-266">Przejdź do `https://localhost:{PORT}/HelloWorld/Welcome`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-266">Browse to `https://localhost:{PORT}/HelloWorld/Welcome`.</span></span> <span data-ttu-id="1c1d4-267">Metoda `Welcome` jest uruchamiana i zwraca ciąg `This is the Welcome action method...`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-267">The `Welcome` method runs and returns the string `This is the Welcome action method...`.</span></span> <span data-ttu-id="1c1d4-268">Dla tego adresu URL kontroler jest `HelloWorld` i `Welcome` jest metodą akcji.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-268">For this URL, the controller is `HelloWorld` and `Welcome` is the action method.</span></span> <span data-ttu-id="1c1d4-269">Nie użyto jeszcze `[Parameters]` części adresu URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-269">You haven't used the `[Parameters]` part of the URL yet.</span></span>

![Okno przeglądarki pokazujące odpowiedź aplikacji jest to metoda akcji powitalnej](~/tutorials/first-mvc-app/adding-controller/_static/welcome.png)

<span data-ttu-id="1c1d4-271">Zmodyfikuj kod, aby przekazać do kontrolera informacje o parametrach z adresu URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-271">Modify the code to pass some parameter information from the URL to the controller.</span></span> <span data-ttu-id="1c1d4-272">Na przykład `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-272">For example, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span></span> <span data-ttu-id="1c1d4-273">Zmień metodę `Welcome` tak, aby obejmowała dwa parametry, jak pokazano w poniższym kodzie.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-273">Change the `Welcome` method to include two parameters as shown in the following code.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]

<span data-ttu-id="1c1d4-274">Powyższy kod:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-274">The preceding code:</span></span>

* <span data-ttu-id="1c1d4-275">Używa funkcji C# opcjonalnej parametru, aby wskazać, że parametr `numTimes` domyślnie przyjmuje wartość 1, jeśli dla tego parametru nie zostanie przeniesiona żadna wartooć.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-275">Uses the C# optional-parameter feature to indicate that the `numTimes` parameter defaults to 1 if no value is passed for that parameter.</span></span> <!-- remove for simplified -->
* <span data-ttu-id="1c1d4-276">Używa `HtmlEncoder.Default.Encode` do ochrony aplikacji przed złośliwymi danymi wejściowymi (tj. JavaScript).</span><span class="sxs-lookup"><span data-stu-id="1c1d4-276">Uses `HtmlEncoder.Default.Encode` to protect the app from malicious input (namely JavaScript).</span></span>
* <span data-ttu-id="1c1d4-277">Używa [interpolowanych ciągów](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) w `$"Hello {name}, NumTimes is: {numTimes}"`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-277">Uses [Interpolated Strings](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) in `$"Hello {name}, NumTimes is: {numTimes}"`.</span></span> <!-- remove for simplified -->

<span data-ttu-id="1c1d4-278">Uruchom aplikację i przejdź do:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-278">Run the app and browse to:</span></span>

   `https://localhost:{PORT}/HelloWorld/Welcome?name=Rick&numtimes=4`

<span data-ttu-id="1c1d4-279">(Zastąp `{PORT}` numerem portu). Możesz wypróbować różne wartości `name` i `numtimes` w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-279">(Replace `{PORT}` with your port number.) You can try different values for `name` and `numtimes` in the URL.</span></span> <span data-ttu-id="1c1d4-280">System [powiązania modelu](xref:mvc/models/model-binding) MVC automatycznie mapuje nazwane parametry z ciągu zapytania na pasku adresu na parametry w metodzie.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-280">The MVC [model binding](xref:mvc/models/model-binding) system automatically maps the named parameters from the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="1c1d4-281">Aby uzyskać więcej informacji, zobacz [powiązanie modelu](xref:mvc/models/model-binding) .</span><span class="sxs-lookup"><span data-stu-id="1c1d4-281">See [Model Binding](xref:mvc/models/model-binding) for more information.</span></span>

![Okno przeglądarki pokazujące odpowiedź aplikacji Hello Rick, NumTimes jest\: 4](~/tutorials/first-mvc-app/adding-controller/_static/rick4.png)

<span data-ttu-id="1c1d4-283">Na powyższym obrazie segment adresu URL (`Parameters`) nie jest używany, parametry `name` i `numTimes` są przesyłane w [ciągu zapytania](https://wikipedia.org/wiki/Query_string).</span><span class="sxs-lookup"><span data-stu-id="1c1d4-283">In the image above, the URL segment (`Parameters`) isn't used, the `name` and `numTimes` parameters are passed in the [query string](https://wikipedia.org/wiki/Query_string).</span></span> <span data-ttu-id="1c1d4-284">`?` (znak zapytania) w powyższym adresie URL jest separatorem, a ciąg zapytania znajduje się poniżej.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-284">The `?` (question mark) in the above URL is a separator, and the query string follows.</span></span> <span data-ttu-id="1c1d4-285">Znak `&` oddziela pary pól i wartości.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-285">The `&` character separates field-value pairs.</span></span>

<span data-ttu-id="1c1d4-286">Zastąp metodę `Welcome` poniższym kodem:</span><span class="sxs-lookup"><span data-stu-id="1c1d4-286">Replace the `Welcome` method with the following code:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]

<span data-ttu-id="1c1d4-287">Uruchom aplikację i wprowadź następujący adres URL: `https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span><span class="sxs-lookup"><span data-stu-id="1c1d4-287">Run the app and enter the following URL: `https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span></span>

<span data-ttu-id="1c1d4-288">Tym razem trzeci segment adresu URL pasuje do `id`parametru trasy.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-288">This time the third URL segment matched the route parameter `id`.</span></span> <span data-ttu-id="1c1d4-289">Metoda `Welcome` zawiera `id` parametrów, które pasują do szablonu adresu URL w metodzie `MapRoute`.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-289">The `Welcome` method contains a parameter `id` that matched the URL template in the `MapRoute` method.</span></span> <span data-ttu-id="1c1d4-290">`?` końcowy (w `id?`) wskazuje, że parametr `id` jest opcjonalny.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-290">The trailing `?` (in `id?`) indicates the `id` parameter is optional.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="1c1d4-291">W tych przykładach kontroler wykonywał część "VC" składnika MVC, czyli działania widoku i kontrolera.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-291">In these examples the controller has been doing the "VC" portion of MVC - that is, the view and controller work.</span></span> <span data-ttu-id="1c1d4-292">Kontroler zwraca bezpośrednio kod HTML.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-292">The controller is returning HTML directly.</span></span> <span data-ttu-id="1c1d4-293">Zazwyczaj nie ma potrzeby, aby kontrolery zwracające kod HTML bezpośrednio, ponieważ staną się bardzo nieskomplikowane w kodzie i obsłudze.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-293">Generally you don't want controllers returning HTML directly, since that becomes very cumbersome to code and maintain.</span></span> <span data-ttu-id="1c1d4-294">Zamiast tego zwykle używany jest oddzielny plik szablonu widoku Razor, aby ułatwić generowanie odpowiedzi HTML.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-294">Instead you typically use a separate Razor view template file to help generate the HTML response.</span></span> <span data-ttu-id="1c1d4-295">Należy to zrobić w następnym samouczku.</span><span class="sxs-lookup"><span data-stu-id="1c1d4-295">You do that in the next tutorial.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1c1d4-296">[Poprzedni](start-mvc.md)
> [Następny](adding-view.md)</span><span class="sxs-lookup"><span data-stu-id="1c1d4-296">[Previous](start-mvc.md)
[Next](adding-view.md)</span></span>

::: moniker-end
