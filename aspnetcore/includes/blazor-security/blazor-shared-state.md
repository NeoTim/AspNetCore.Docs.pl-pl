<span data-ttu-id="27744-101">Aplikacje serwera Blazor na żywo w pamięci serwera.</span><span class="sxs-lookup"><span data-stu-id="27744-101">Blazor server apps live in server memory.</span></span> <span data-ttu-id="27744-102">Oznacza to, że istnieje wiele aplikacji hostowanych w ramach tego samego procesu.</span><span class="sxs-lookup"><span data-stu-id="27744-102">That means that there are multiple apps hosted within the same process.</span></span> <span data-ttu-id="27744-103">W przypadku każdej sesji aplikacji Blazor rozpoczyna obwód z własnym zakresem DI kontenera.</span><span class="sxs-lookup"><span data-stu-id="27744-103">For each app session, Blazor starts a circuit with its own DI container scope.</span></span> <span data-ttu-id="27744-104">Oznacza to, że usługi o określonym zakresie są unikatowe dla sesji Blazor.</span><span class="sxs-lookup"><span data-stu-id="27744-104">That means that scoped services are unique per Blazor session.</span></span>

> [!WARNING]
> <span data-ttu-id="27744-105">Nie zalecamy stosowania aplikacji w tym samym stanie udostępniania serwera przy użyciu pojedynczych usług, chyba że jest to wyjątkowo ważne, ponieważ może to spowodować powstanie luk w zabezpieczeniach, takich jak przeciek stanu użytkownika w obwodach.</span><span class="sxs-lookup"><span data-stu-id="27744-105">We don't recommend apps on the same server share state using singleton services unless extreme care is taken, as this can introduce security vulnerabilities, such as leaking user state across circuits.</span></span>

<span data-ttu-id="27744-106">W aplikacjach Blazor można używać stanowych pojedynczych usług, jeśli są one specjalnie przeznaczone do tego celu.</span><span class="sxs-lookup"><span data-stu-id="27744-106">You can use stateful singleton services in Blazor apps if they are specifically designed for it.</span></span> <span data-ttu-id="27744-107">Na przykład można użyć pamięci podręcznej pamięci jako pojedynczej, ponieważ wymaga ona klucza w celu uzyskania dostępu do danego wpisu, przy założeniu, że użytkownicy nie mają kontroli nad używanymi kluczami pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="27744-107">For example, it's ok to use a memory cache as a singleton because it requires a key to access a given entry, assuming users don't have control of what cache keys are used.</span></span>

<span data-ttu-id="27744-108">**Ponadto ze względów bezpieczeństwa nie można używać <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor> w aplikacjach Blazor.**</span><span class="sxs-lookup"><span data-stu-id="27744-108">**Additionally, again for security reasons, you must not use <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor> within Blazor apps.**</span></span> <span data-ttu-id="27744-109">Aplikacje Blazor działają poza kontekstem potoku ASP.NET Core i <xref:Microsoft.AspNetCore.Http.HttpContext> nie ma gwarancji, że jest on dostępny w ramach <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor>programu, ani nie ma gwarancji, że utrzymuje kontekst, w którym uruchomiono aplikację Blazor.</span><span class="sxs-lookup"><span data-stu-id="27744-109">Blazor apps run outside of the context of the ASP.NET Core pipeline and the <xref:Microsoft.AspNetCore.Http.HttpContext> isn't guaranteed to be available within the <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor>, nor it is guaranteed to be holding the context that started the Blazor app.</span></span>

<span data-ttu-id="27744-110">Zalecany sposób przekazywania stanu żądania do aplikacji Blazor odbywa się za pomocą parametrów do składnika głównego podczas początkowego renderowania aplikacji:</span><span class="sxs-lookup"><span data-stu-id="27744-110">The recommended way to pass request state to the Blazor app is through parameters to the root component in the initial rendering of the app:</span></span>

* <span data-ttu-id="27744-111">Zdefiniuj klasę zawierającą wszystkie dane, które chcesz przekazać do aplikacji Blazor.</span><span class="sxs-lookup"><span data-stu-id="27744-111">Define a class with all the data you want to pass to the Blazor app.</span></span>
* <span data-ttu-id="27744-112">Wypełnij te dane ze strony Razor przy użyciu <xref:Microsoft.AspNetCore.Http.HttpContext> dostępnych w tym czasie.</span><span class="sxs-lookup"><span data-stu-id="27744-112">Populate that data from the Razor page using the <xref:Microsoft.AspNetCore.Http.HttpContext> available at that time.</span></span>
* <span data-ttu-id="27744-113">Przekaż dane do aplikacji Blazor jako parametr do składnika głównego (aplikacji).</span><span class="sxs-lookup"><span data-stu-id="27744-113">Pass the data to the Blazor app as a parameter to the root component (App).</span></span>
* <span data-ttu-id="27744-114">Zdefiniuj parametr w składniku głównym, aby przechowywać dane przesyłane do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="27744-114">Define a parameter in the root component to hold the data being passed to the app.</span></span>
* <span data-ttu-id="27744-115">Korzystanie z danych specyficznych dla użytkownika w aplikacji; lub alternatywnie Skopiuj te dane do usługi w zakresie w programie <xref:Microsoft.AspNetCore.Components.ComponentBase.OnInitializedAsync%2A> , aby można było jej używać w całej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="27744-115">Use the user-specific data within the app; or alternatively, copy that data into a scoped service within <xref:Microsoft.AspNetCore.Components.ComponentBase.OnInitializedAsync%2A> so that it can be used across the app.</span></span>

<span data-ttu-id="27744-116">Aby uzyskać więcej informacji i przykładowy kod, <xref:security/blazor/server/additional-scenarios#pass-tokens-to-a-blazor-server-app>Zobacz.</span><span class="sxs-lookup"><span data-stu-id="27744-116">For more information and example code, see <xref:security/blazor/server/additional-scenarios#pass-tokens-to-a-blazor-server-app>.</span></span>
