---
title: Użyj szablonu projektu kątowego z ASP.NET Core
author: SteveSandersonMS
description: Dowiedz się, jak rozpocząć pracę z szablonem projektu ASP.NET Core Single Page Application (SPA) dla angular i angular CLI.
monikerRange: '>= aspnetcore-2.1'
ms.author: stevesa
ms.custom: mvc
ms.date: 02/06/2020
uid: spa/angular
ms.openlocfilehash: fee872ff237e14cbe491efed9b320809df4c5654
ms.sourcegitcommit: f7886fd2e219db9d7ce27b16c0dc5901e658d64e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/06/2020
ms.locfileid: "78657634"
---
# <a name="use-the-angular-project-template-with-aspnet-core"></a><span data-ttu-id="7ad32-103">Użyj szablonu projektu kątowego z ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="7ad32-103">Use the Angular project template with ASP.NET Core</span></span>

<span data-ttu-id="7ad32-104">Zaktualizowany szablon projektu Angular zapewnia wygodny punkt wyjścia dla aplikacji core ASP.NET przy użyciu Angular i Angular CLI do zaimplementowania bogatego interfejsu użytkownika po stronie klienta (UI).</span><span class="sxs-lookup"><span data-stu-id="7ad32-104">The updated Angular project template provides a convenient starting point for ASP.NET Core apps using Angular and the Angular CLI to implement a rich, client-side user interface (UI).</span></span>

<span data-ttu-id="7ad32-105">Szablon jest odpowiednikiem tworzenia projektu ASP.NET Core do działania jako zaplecza interfejsu API i angular cli projektu do działania jako interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7ad32-105">The template is equivalent to creating an ASP.NET Core project to act as an API backend and an Angular CLI project to act as a UI.</span></span> <span data-ttu-id="7ad32-106">Szablon oferuje wygodę hostingu obu typów projektów w jednym projekcie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7ad32-106">The template offers the convenience of hosting both project types in a single app project.</span></span> <span data-ttu-id="7ad32-107">W związku z tym projekt aplikacji mogą być tworzone i publikowane jako pojedyncza jednostka.</span><span class="sxs-lookup"><span data-stu-id="7ad32-107">Consequently, the app project can be built and published as a single unit.</span></span>

## <a name="create-a-new-app"></a><span data-ttu-id="7ad32-108">Tworzenie nowej aplikacji</span><span class="sxs-lookup"><span data-stu-id="7ad32-108">Create a new app</span></span>

<span data-ttu-id="7ad32-109">Jeśli masz zainstalowany ASP.NET Core 2.1, nie ma potrzeby instalowania szablonu projektu angular.</span><span class="sxs-lookup"><span data-stu-id="7ad32-109">If you have ASP.NET Core 2.1 installed, there's no need to install the Angular project template.</span></span>

<span data-ttu-id="7ad32-110">Utwórz nowy projekt z wiersza `dotnet new angular` polecenia za pomocą polecenia w pustym katalogu.</span><span class="sxs-lookup"><span data-stu-id="7ad32-110">Create a new project from a command prompt using the command `dotnet new angular` in an empty directory.</span></span> <span data-ttu-id="7ad32-111">Na przykład następujące polecenia tworzą aplikację w katalogu *my-new-app* i przełączają się do tego katalogu:</span><span class="sxs-lookup"><span data-stu-id="7ad32-111">For example, the following commands create the app in a *my-new-app* directory and switch to that directory:</span></span>

```dotnetcli
dotnet new angular -o my-new-app
cd my-new-app
```

<span data-ttu-id="7ad32-112">Uruchom aplikację z programu Visual Studio lub interfejsu wiersza polecenia .NET Core:</span><span class="sxs-lookup"><span data-stu-id="7ad32-112">Run the app from either Visual Studio or the .NET Core CLI:</span></span>

# <a name="visual-studio"></a>[<span data-ttu-id="7ad32-113">Program Visual Studio</span><span class="sxs-lookup"><span data-stu-id="7ad32-113">Visual Studio</span></span>](#tab/visual-studio/)

<span data-ttu-id="7ad32-114">Otwórz wygenerowany plik *csproj* i uruchom aplikację normalnie stamtąd.</span><span class="sxs-lookup"><span data-stu-id="7ad32-114">Open the generated *.csproj* file, and run the app as normal from there.</span></span>

<span data-ttu-id="7ad32-115">Proces kompilacji przywraca zależności npm przy pierwszym uruchomieniu, co może potrwać kilka minut.</span><span class="sxs-lookup"><span data-stu-id="7ad32-115">The build process restores npm dependencies on the first run, which can take several minutes.</span></span> <span data-ttu-id="7ad32-116">Kolejne kompilacje są znacznie szybsze.</span><span class="sxs-lookup"><span data-stu-id="7ad32-116">Subsequent builds are much faster.</span></span>

# <a name="net-core-cli"></a>[<span data-ttu-id="7ad32-117">Interfejs wiersza polecenia platformy .NET Core</span><span class="sxs-lookup"><span data-stu-id="7ad32-117">.NET Core CLI</span></span>](#tab/netcore-cli/)

<span data-ttu-id="7ad32-118">Upewnij się, że `ASPNETCORE_Environment` masz zmienną `Development`środowiskową o nazwie o wartości .</span><span class="sxs-lookup"><span data-stu-id="7ad32-118">Ensure you have an environment variable called `ASPNETCORE_Environment` with a value of `Development`.</span></span> <span data-ttu-id="7ad32-119">W systemie Windows (w monitach innych `SET ASPNETCORE_Environment=Development`niż powershell) uruchom program .</span><span class="sxs-lookup"><span data-stu-id="7ad32-119">On Windows (in non-PowerShell prompts), run `SET ASPNETCORE_Environment=Development`.</span></span> <span data-ttu-id="7ad32-120">W systemie Linux lub `export ASPNETCORE_Environment=Development`macOS uruchom plik .</span><span class="sxs-lookup"><span data-stu-id="7ad32-120">On Linux or macOS, run `export ASPNETCORE_Environment=Development`.</span></span>

<span data-ttu-id="7ad32-121">Uruchom [kompilację dotnet,](/dotnet/core/tools/dotnet-build) aby poprawnie sprawdzić, czy aplikacja zostanie poprawnie zbudowana.</span><span class="sxs-lookup"><span data-stu-id="7ad32-121">Run [dotnet build](/dotnet/core/tools/dotnet-build) to verify the app builds correctly.</span></span> <span data-ttu-id="7ad32-122">Przy pierwszym uruchomieniu proces kompilacji przywraca zależności npm, co może potrwać kilka minut.</span><span class="sxs-lookup"><span data-stu-id="7ad32-122">On the first run, the build process restores npm dependencies, which can take several minutes.</span></span> <span data-ttu-id="7ad32-123">Kolejne kompilacje są znacznie szybsze.</span><span class="sxs-lookup"><span data-stu-id="7ad32-123">Subsequent builds are much faster.</span></span>

<span data-ttu-id="7ad32-124">Uruchom [dotnet uruchom,](/dotnet/core/tools/dotnet-run) aby uruchomić aplikację.</span><span class="sxs-lookup"><span data-stu-id="7ad32-124">Run [dotnet run](/dotnet/core/tools/dotnet-run) to start the app.</span></span> <span data-ttu-id="7ad32-125">Rejestrowany jest komunikat podobny do następującego:</span><span class="sxs-lookup"><span data-stu-id="7ad32-125">A message similar to the following is logged:</span></span>

```console
Now listening on: http://localhost:<port>
```

<span data-ttu-id="7ad32-126">Przejdź do tego adresu URL w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="7ad32-126">Navigate to this URL in a browser.</span></span>

> [!WARNING]
> <span data-ttu-id="7ad32-127">Aplikacja uruchamia wystąpienie angular serwera interfejsu wiersza polecenia w tle.</span><span class="sxs-lookup"><span data-stu-id="7ad32-127">The app starts up an instance of the Angular CLI server in the background.</span></span> <span data-ttu-id="7ad32-128">Rejestrowany jest komunikat podobny do następującego: *NG Live Development&lt;Server&gt;nasłuchuje na http://localhost:&ltlocalhost: otherport , otwórz przeglądarkę na ;otherport&gt;*.</span><span class="sxs-lookup"><span data-stu-id="7ad32-128">A message similar to the following is logged: *NG Live Development Server is listening on localhost:&lt;otherport&gt;, open a browser to http://localhost:&lt;otherport&gt;/*.</span></span> <span data-ttu-id="7ad32-129">Zignoruj ten komunikat,&mdash;nie jest to adres URL połączonej aplikacji ASP.NET Core i Angular CLI. **not**</span><span class="sxs-lookup"><span data-stu-id="7ad32-129">Ignore this message&mdash;it's **not** the URL for the combined ASP.NET Core and Angular CLI app.</span></span>

---

<span data-ttu-id="7ad32-130">Szablon projektu tworzy aplikację ASP.NET Core i aplikację Angular.</span><span class="sxs-lookup"><span data-stu-id="7ad32-130">The project template creates an ASP.NET Core app and an Angular app.</span></span> <span data-ttu-id="7ad32-131">Aplikacja ASP.NET Core jest przeznaczona do użycia w celu uzyskania dostępu do danych, autoryzacji i innych problemów po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="7ad32-131">The ASP.NET Core app is intended to be used for data access, authorization, and other server-side concerns.</span></span> <span data-ttu-id="7ad32-132">Aplikacja Angular, zamieszkała w podkatalogu *ClientApp,* jest przeznaczona do użycia dla wszystkich problemów interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7ad32-132">The Angular app, residing in the *ClientApp* subdirectory, is intended to be used for all UI concerns.</span></span>

## <a name="add-pages-images-styles-modules-etc"></a><span data-ttu-id="7ad32-133">Dodaj strony, obrazy, style, moduły itp.</span><span class="sxs-lookup"><span data-stu-id="7ad32-133">Add pages, images, styles, modules, etc.</span></span>

<span data-ttu-id="7ad32-134">Katalog *ClientApp* zawiera standardową aplikację Angular CLI.</span><span class="sxs-lookup"><span data-stu-id="7ad32-134">The *ClientApp* directory contains a standard Angular CLI app.</span></span> <span data-ttu-id="7ad32-135">Więcej informacji można znaleźć w oficjalnej [dokumentacji kątowej.](https://angular.io)</span><span class="sxs-lookup"><span data-stu-id="7ad32-135">See the official [Angular documentation](https://angular.io) for more information.</span></span>

<span data-ttu-id="7ad32-136">Istnieją niewielkie różnice między aplikacją Angular stworzoną przez ten szablon a `ng new`aplikacją stworzoną przez samą interfejsu angular CLI (za pośrednictwem ); jednak możliwości aplikacji pozostają niezmienione.</span><span class="sxs-lookup"><span data-stu-id="7ad32-136">There are slight differences between the Angular app created by this template and the one created by Angular CLI itself (via `ng new`); however, the app's capabilities are unchanged.</span></span> <span data-ttu-id="7ad32-137">Aplikacja utworzona przez szablon zawiera układ oparty na [bootstrap](https://getbootstrap.com/)i przykład podstawowego routingu.</span><span class="sxs-lookup"><span data-stu-id="7ad32-137">The app created by the template contains a [Bootstrap](https://getbootstrap.com/)-based layout and a basic routing example.</span></span>

## <a name="run-ng-commands"></a><span data-ttu-id="7ad32-138">Uruchamianie poleceń ng</span><span class="sxs-lookup"><span data-stu-id="7ad32-138">Run ng commands</span></span>

<span data-ttu-id="7ad32-139">W wierszu polecenia przełącz się do podkatalogu *ClientApp:*</span><span class="sxs-lookup"><span data-stu-id="7ad32-139">In a command prompt, switch to the *ClientApp* subdirectory:</span></span>

```console
cd ClientApp
```

<span data-ttu-id="7ad32-140">Jeśli `ng` narzędzie jest zainstalowane globalnie, można uruchomić dowolne z jego poleceń.</span><span class="sxs-lookup"><span data-stu-id="7ad32-140">If you have the `ng` tool installed globally, you can run any of its commands.</span></span> <span data-ttu-id="7ad32-141">Na przykład można `ng lint`uruchomić `ng test`, lub dowolne inne [polecenia kątowego interfejsu wiersza polecenia](https://angular.io/cli).</span><span class="sxs-lookup"><span data-stu-id="7ad32-141">For example, you can run `ng lint`, `ng test`, or any of the other [Angular CLI commands](https://angular.io/cli).</span></span> <span data-ttu-id="7ad32-142">Nie ma jednak potrzeby `ng serve` uruchamiania, ponieważ aplikacja ASP.NET Core zajmuje się obsługiwania zarówno części aplikacji po stronie serwera, jak i klienta.</span><span class="sxs-lookup"><span data-stu-id="7ad32-142">There's no need to run `ng serve` though, because your ASP.NET Core app deals with serving both server-side and client-side parts of your app.</span></span> <span data-ttu-id="7ad32-143">Wewnętrznie, używa `ng serve` w rozwoju.</span><span class="sxs-lookup"><span data-stu-id="7ad32-143">Internally, it uses `ng serve` in development.</span></span>

<span data-ttu-id="7ad32-144">Jeśli nie masz zainstalowanego `ng` narzędzia, `npm run ng` uruchom zamiast tego.</span><span class="sxs-lookup"><span data-stu-id="7ad32-144">If you don't have the `ng` tool installed, run `npm run ng` instead.</span></span> <span data-ttu-id="7ad32-145">Na przykład można `npm run ng lint` uruchomić `npm run ng test`lub .</span><span class="sxs-lookup"><span data-stu-id="7ad32-145">For example, you can run `npm run ng lint` or `npm run ng test`.</span></span>

## <a name="install-npm-packages"></a><span data-ttu-id="7ad32-146">Instalowanie pakietów npm</span><span class="sxs-lookup"><span data-stu-id="7ad32-146">Install npm packages</span></span>

<span data-ttu-id="7ad32-147">Aby zainstalować pakiety npm innych firm, użyj wiersza polecenia w podkatalogu *ClientApp.*</span><span class="sxs-lookup"><span data-stu-id="7ad32-147">To install third-party npm packages, use a command prompt in the *ClientApp* subdirectory.</span></span> <span data-ttu-id="7ad32-148">Przykład:</span><span class="sxs-lookup"><span data-stu-id="7ad32-148">For example:</span></span>

```console
cd ClientApp
npm install --save <package_name>
```

## <a name="publish-and-deploy"></a><span data-ttu-id="7ad32-149">Publikowanie i wdrażanie</span><span class="sxs-lookup"><span data-stu-id="7ad32-149">Publish and deploy</span></span>

<span data-ttu-id="7ad32-150">W rozwoju aplikacja działa w trybie zoptymalizowanym pod kątem wygody dewelopera.</span><span class="sxs-lookup"><span data-stu-id="7ad32-150">In development, the app runs in a mode optimized for developer convenience.</span></span> <span data-ttu-id="7ad32-151">Na przykład pakiety JavaScript zawierają mapy źródłowe (dzięki czemu podczas debugowania można zobaczyć oryginalny kod TypeScript).</span><span class="sxs-lookup"><span data-stu-id="7ad32-151">For example, JavaScript bundles include source maps (so that when debugging, you can see your original TypeScript code).</span></span> <span data-ttu-id="7ad32-152">Aplikacja obserwuje zmiany plików TypeScript, HTML i CSS na dysku i automatycznie ponownie kompiluje i ładuje się, gdy widzi, że te pliki się zmieniają.</span><span class="sxs-lookup"><span data-stu-id="7ad32-152">The app watches for TypeScript, HTML, and CSS file changes on disk and automatically recompiles and reloads when it sees those files change.</span></span>

<span data-ttu-id="7ad32-153">W produkcji wyświetlaj wersję aplikacji zoptymalizowaną pod kątem wydajności.</span><span class="sxs-lookup"><span data-stu-id="7ad32-153">In production, serve a version of your app that's optimized for performance.</span></span> <span data-ttu-id="7ad32-154">Jest to skonfigurowane tak, aby odbywało się automatycznie.</span><span class="sxs-lookup"><span data-stu-id="7ad32-154">This is configured to happen automatically.</span></span> <span data-ttu-id="7ad32-155">Podczas publikowania konfiguracji kompilacji emituje wstępnie, z wyprzedzeniem (AoT) skompilowany kompilacji kodu po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="7ad32-155">When you publish, the build configuration emits a minified, ahead-of-time (AoT) compiled build of your client-side code.</span></span> <span data-ttu-id="7ad32-156">W przeciwieństwie do kompilacji deweloperskiej kompilacja produkcyjna nie wymaga instalowania node.js na serwerze (chyba że włączono renderowanie po stronie serwera (SSR)).</span><span class="sxs-lookup"><span data-stu-id="7ad32-156">Unlike the development build, the production build doesn't require Node.js to be installed on the server (unless you have enabled server-side rendering (SSR)).</span></span>

<span data-ttu-id="7ad32-157">Można użyć standardowych [ASP.NET metody hostingu i wdrażania Core](xref:host-and-deploy/index).</span><span class="sxs-lookup"><span data-stu-id="7ad32-157">You can use standard [ASP.NET Core hosting and deployment methods](xref:host-and-deploy/index).</span></span>

## <a name="run-ng-serve-independently"></a><span data-ttu-id="7ad32-158">Uruchom "ng służyć" niezależnie</span><span class="sxs-lookup"><span data-stu-id="7ad32-158">Run "ng serve" independently</span></span>

<span data-ttu-id="7ad32-159">Projekt jest skonfigurowany do uruchamiania własnego wystąpienia angular serwera interfejsu wiersza polecenia w tle, gdy aplikacja ASP.NET Core uruchamia się w trybie rozwoju.</span><span class="sxs-lookup"><span data-stu-id="7ad32-159">The project is configured to start its own instance of the Angular CLI server in the background when the ASP.NET Core app starts in development mode.</span></span> <span data-ttu-id="7ad32-160">Jest to wygodne, ponieważ nie trzeba ręcznie uruchamiać oddzielnego serwera.</span><span class="sxs-lookup"><span data-stu-id="7ad32-160">This is convenient because you don't have to run a separate server manually.</span></span>

<span data-ttu-id="7ad32-161">Istnieje wada tej domyślnej konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="7ad32-161">There's a drawback to this default setup.</span></span> <span data-ttu-id="7ad32-162">Za każdym razem, gdy modyfikujesz kod języka C#, a aplikacja ASP.NET Core musi zostać ponownie uruchomiona, serwer angular CLI zostanie ponownie uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="7ad32-162">Each time you modify your C# code and your ASP.NET Core app needs to restart, the Angular CLI server restarts.</span></span> <span data-ttu-id="7ad32-163">Do uruchomienia kopii zapasowej wymagane jest około 10 sekund.</span><span class="sxs-lookup"><span data-stu-id="7ad32-163">Around 10 seconds is required to start back up.</span></span> <span data-ttu-id="7ad32-164">Jeśli wprowadzasz częste zmiany kodu języka C# i nie chcesz czekać na ponowne uruchomienie interfejsu wiersza polecenia angular, uruchom serwer Angular CLI zewnętrznie, niezależnie od procesu ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="7ad32-164">If you're making frequent C# code edits and don't want to wait for Angular CLI to restart, run the Angular CLI server externally, independently of the ASP.NET Core process.</span></span> <span data-ttu-id="7ad32-165">W tym celu:</span><span class="sxs-lookup"><span data-stu-id="7ad32-165">To do so:</span></span>

1. <span data-ttu-id="7ad32-166">W wierszu polecenia przełącz się do podkatalogu *ClientApp* i uruchom serwer programistyczny interfejsu wiersza polecenia Angular:</span><span class="sxs-lookup"><span data-stu-id="7ad32-166">In a command prompt, switch to the *ClientApp* subdirectory, and launch the Angular CLI development server:</span></span>

    ```console
    cd ClientApp
    npm start
    ```

    > [!IMPORTANT]
    > <span data-ttu-id="7ad32-167">Służy `npm start` do uruchamiania serwera programistycznego `ng serve`interfejsu wiersza polecenia, a nie , tak aby konfiguracja w *pliku package.json* była przestrzegana.</span><span class="sxs-lookup"><span data-stu-id="7ad32-167">Use `npm start` to launch the Angular CLI development server, not `ng serve`, so that the configuration in *package.json* is respected.</span></span> <span data-ttu-id="7ad32-168">Aby przekazać dodatkowe parametry do serwera Angular CLI, dodaj je do odpowiedniego `scripts` wiersza w pliku *package.json.*</span><span class="sxs-lookup"><span data-stu-id="7ad32-168">To pass additional parameters to the Angular CLI server, add them to the relevant `scripts` line in your *package.json* file.</span></span>

2. <span data-ttu-id="7ad32-169">Zmodyfikuj aplikację ASP.NET Core, aby użyć zewnętrznego wystąpienia interfejsu wiersza polecenia angular zamiast uruchamiania własnego.</span><span class="sxs-lookup"><span data-stu-id="7ad32-169">Modify your ASP.NET Core app to use the external Angular CLI instance instead of launching one of its own.</span></span> <span data-ttu-id="7ad32-170">W klasie *uruchamiania* `spa.UseAngularCliServer` zastąp wywołanie następującymi:</span><span class="sxs-lookup"><span data-stu-id="7ad32-170">In your *Startup* class, replace the `spa.UseAngularCliServer` invocation with the following:</span></span>

    ```csharp
    spa.UseProxyToSpaDevelopmentServer("http://localhost:4200");
    ```

<span data-ttu-id="7ad32-171">Po uruchomieniu aplikacji ASP.NET Core nie uruchomi ona kanciastego serwera interfejsu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="7ad32-171">When you start your ASP.NET Core app, it won't launch an Angular CLI server.</span></span> <span data-ttu-id="7ad32-172">Zamiast tego używane jest wystąpienie uruchomione ręcznie.</span><span class="sxs-lookup"><span data-stu-id="7ad32-172">The instance you started manually is used instead.</span></span> <span data-ttu-id="7ad32-173">Dzięki temu można go uruchomić i uruchomić szybciej.</span><span class="sxs-lookup"><span data-stu-id="7ad32-173">This enables it to start and restart faster.</span></span> <span data-ttu-id="7ad32-174">Nie czeka już na Angular CLI odbudować aplikację kliencką za każdym razem.</span><span class="sxs-lookup"><span data-stu-id="7ad32-174">It's no longer waiting for Angular CLI to rebuild your client app each time.</span></span>

### <a name="pass-data-from-net-code-into-typescript-code"></a><span data-ttu-id="7ad32-175">Przekazywanie danych z kodu .NET do kodu TypeScript</span><span class="sxs-lookup"><span data-stu-id="7ad32-175">Pass data from .NET code into TypeScript code</span></span>

<span data-ttu-id="7ad32-176">Podczas SSR możesz chcieć przekazać dane na żądanie z aplikacji ASP.NET Core do aplikacji Angular.</span><span class="sxs-lookup"><span data-stu-id="7ad32-176">During SSR, you might want to pass per-request data from your ASP.NET Core app into your Angular app.</span></span> <span data-ttu-id="7ad32-177">Na przykład można przekazać informacje o plikach cookie lub coś odczytanego z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7ad32-177">For example, you could pass cookie information or something read from a database.</span></span> <span data-ttu-id="7ad32-178">Aby to zrobić, edytuj klasę *uruchamiania.*</span><span class="sxs-lookup"><span data-stu-id="7ad32-178">To do this, edit your *Startup* class.</span></span> <span data-ttu-id="7ad32-179">W wywołaniu `UseSpaPrerendering`zwrotnym dla `options.SupplyData` , ustaw wartość dla takich jak:</span><span class="sxs-lookup"><span data-stu-id="7ad32-179">In the callback for `UseSpaPrerendering`, set a value for `options.SupplyData` such as the following:</span></span>

```csharp
options.SupplyData = (context, data) =>
{
    // Creates a new value called isHttpsRequest that's passed to TypeScript code
    data["isHttpsRequest"] = context.Request.IsHttps;
};
```

<span data-ttu-id="7ad32-180">Wywołanie zwrotne `SupplyData` umożliwia przekazywanie dowolnych danych na żądanie, serializable JSON (na przykład ciągów, wartości logicznych lub liczb).</span><span class="sxs-lookup"><span data-stu-id="7ad32-180">The `SupplyData` callback lets you pass arbitrary, per-request, JSON-serializable data (for example, strings, booleans, or numbers).</span></span> <span data-ttu-id="7ad32-181">Kod *main.server.ts* odbiera `params.data`to jako .</span><span class="sxs-lookup"><span data-stu-id="7ad32-181">Your *main.server.ts* code receives this as `params.data`.</span></span> <span data-ttu-id="7ad32-182">Na przykład poprzedni przykładowy kod przekazuje wartość `params.data.isHttpsRequest` logiczną jako wywołanie zwrotne. `createServerRenderer`</span><span class="sxs-lookup"><span data-stu-id="7ad32-182">For example, the preceding code sample passes a boolean value as `params.data.isHttpsRequest` into the `createServerRenderer` callback.</span></span> <span data-ttu-id="7ad32-183">Możesz przekazać to do innych części aplikacji w dowolny sposób obsługiwany przez Angular.</span><span class="sxs-lookup"><span data-stu-id="7ad32-183">You can pass this to other parts of your app in any way supported by Angular.</span></span> <span data-ttu-id="7ad32-184">Na przykład zobacz, jak *main.server.ts* przekazuje `BASE_URL` wartość do dowolnego składnika, którego konstruktor jest zadeklarowany do jego odbioru.</span><span class="sxs-lookup"><span data-stu-id="7ad32-184">For example, see how *main.server.ts* passes the `BASE_URL` value to any component whose constructor is declared to receive it.</span></span>

### <a name="drawbacks-of-ssr"></a><span data-ttu-id="7ad32-185">Wady SSR</span><span class="sxs-lookup"><span data-stu-id="7ad32-185">Drawbacks of SSR</span></span>

<span data-ttu-id="7ad32-186">Nie wszystkie aplikacje korzystają z SSR.</span><span class="sxs-lookup"><span data-stu-id="7ad32-186">Not all apps benefit from SSR.</span></span> <span data-ttu-id="7ad32-187">Główną korzyścią jest postrzegana wydajność.</span><span class="sxs-lookup"><span data-stu-id="7ad32-187">The primary benefit is perceived performance.</span></span> <span data-ttu-id="7ad32-188">Osoby odwiedzające, które docierają do aplikacji za pośrednictwem wolnego połączenia sieciowego lub na wolnych urządzeniach przenośnych, szybko widzą początkowy interfejs użytkownika, nawet jeśli pobieranie lub analizowania pakietów JavaScript zajmuje trochę czasu.</span><span class="sxs-lookup"><span data-stu-id="7ad32-188">Visitors reaching your app over a slow network connection or on slow mobile devices see the initial UI quickly, even if it takes a while to fetch or parse the JavaScript bundles.</span></span> <span data-ttu-id="7ad32-189">Jednak wiele OSO są używane głównie przez szybkie, wewnętrzne sieci firmowe na szybkich komputerach, gdzie aplikacja pojawia się niemal natychmiast.</span><span class="sxs-lookup"><span data-stu-id="7ad32-189">However, many SPAs are mainly used over fast, internal company networks on fast computers where the app appears almost instantly.</span></span>

<span data-ttu-id="7ad32-190">Jednocześnie istnieją znaczne wady włączenia SSR.</span><span class="sxs-lookup"><span data-stu-id="7ad32-190">At the same time, there are significant drawbacks to enabling SSR.</span></span> <span data-ttu-id="7ad32-191">Zwiększa złożoność procesu tworzenia.</span><span class="sxs-lookup"><span data-stu-id="7ad32-191">It adds complexity to your development process.</span></span> <span data-ttu-id="7ad32-192">Kod musi działać w dwóch różnych środowiskach: po stronie klienta i po stronie serwera (w środowisku Node.js wywoływanym z ASP.NET Core).</span><span class="sxs-lookup"><span data-stu-id="7ad32-192">Your code must run in two different environments: client-side and server-side (in a Node.js environment invoked from ASP.NET Core).</span></span> <span data-ttu-id="7ad32-193">Oto kilka rzeczy, o których należy pamiętać:</span><span class="sxs-lookup"><span data-stu-id="7ad32-193">Here are some things to bear in mind:</span></span>

* <span data-ttu-id="7ad32-194">SSR wymaga instalacji Node.js na serwerach produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="7ad32-194">SSR requires a Node.js installation on your production servers.</span></span> <span data-ttu-id="7ad32-195">Jest to automatycznie w przypadku niektórych scenariuszy wdrażania, takich jak usługi azure app services, ale nie dla innych, takich jak sieci szkieletowej usługi Azure.</span><span class="sxs-lookup"><span data-stu-id="7ad32-195">This is automatically the case for some deployment scenarios, such as Azure App Services, but not for others, such as Azure Service Fabric.</span></span>
* <span data-ttu-id="7ad32-196">Włączenie flagi `BuildServerSideRenderer` kompilacji *powoduje,* że katalog node_modules do opublikowania.</span><span class="sxs-lookup"><span data-stu-id="7ad32-196">Enabling the `BuildServerSideRenderer` build flag causes your *node_modules* directory to publish.</span></span> <span data-ttu-id="7ad32-197">Ten folder zawiera ponad 20 000 plików, co wydłuża czas wdrażania.</span><span class="sxs-lookup"><span data-stu-id="7ad32-197">This folder contains 20,000+ files, which increases deployment time.</span></span>
* <span data-ttu-id="7ad32-198">Aby uruchomić kod w środowisku Node.js, nie może polegać na istnieniu interfejsów `window` `localStorage`API javascript specyficznych dla przeglądarki, takich jak lub .</span><span class="sxs-lookup"><span data-stu-id="7ad32-198">To run your code in a Node.js environment, it can't rely on the existence of browser-specific JavaScript APIs such as `window` or `localStorage`.</span></span> <span data-ttu-id="7ad32-199">Jeśli kod (lub niektóre biblioteki innych firm, do których się odwołujesz) próbuje użyć tych interfejsów API, otrzymasz błąd podczas SSR.</span><span class="sxs-lookup"><span data-stu-id="7ad32-199">If your code (or some third-party library you reference) tries to use these APIs, you'll get an error during SSR.</span></span> <span data-ttu-id="7ad32-200">Na przykład nie należy używać jQuery, ponieważ odwołuje się do interfejsów API specyficznych dla przeglądarki w wielu miejscach.</span><span class="sxs-lookup"><span data-stu-id="7ad32-200">For example, don't use jQuery because it references browser-specific APIs in many places.</span></span> <span data-ttu-id="7ad32-201">Aby zapobiec błędom, należy unikać SSR lub unikać interfejsów API lub bibliotek specyficznych dla przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="7ad32-201">To prevent errors, you must either avoid SSR or avoid browser-specific APIs or libraries.</span></span> <span data-ttu-id="7ad32-202">Można zawinąć wszelkie wywołania do takich interfejsów API w kontroli, aby upewnić się, że nie są wywoływane podczas SSR.</span><span class="sxs-lookup"><span data-stu-id="7ad32-202">You can wrap any calls to such APIs in checks to ensure they aren't invoked during SSR.</span></span> <span data-ttu-id="7ad32-203">Na przykład użyj czeku, takiego jak poniższy w kodzie JavaScript lub TypeScript:</span><span class="sxs-lookup"><span data-stu-id="7ad32-203">For example, use a check such as the following in JavaScript or TypeScript code:</span></span>

    ```javascript
    if (typeof window !== 'undefined') {
        // Call browser-specific APIs here
    }
    ```

## <a name="additional-resources"></a><span data-ttu-id="7ad32-204">Zasoby dodatkowe</span><span class="sxs-lookup"><span data-stu-id="7ad32-204">Additional resources</span></span>

* <xref:security/authentication/identity/spa>
